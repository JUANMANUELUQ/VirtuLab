<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Términos y Condiciones — DevDemy</title>
  <meta name="description" content="Términos y condiciones sobre el tratamiento de datos en la simulación académica de DevDemy." />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    :root{
      --brand: #ff8a00;
      --muted: #6c757d;
    }
    body{ font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial; background:#f5f7fa; color:#222; }
    header{ background: linear-gradient(90deg,var(--brand),#ff5a00); color:#fff; padding:36px 0; margin-bottom:18px; }
    .card{ border-radius:12px; box-shadow:0 8px 30px rgba(18,18,18,0.06); }
    .section-title{ font-weight:700; }
    .small-muted{ color:var(--muted); }
    footer{ padding:18px 0; font-size:0.9rem; color:var(--muted); }
    pre.policy-snippet{ white-space:pre-wrap; background:#fff; padding:12px; border-radius:8px; border:1px solid #eee; }
    .masked { font-family: monospace; letter-spacing: .8px; }
  </style>
</head>
<body>

<header class="mb-4">
  <div class="container">
    <div class="d-flex justify-content-between align-items-center">
      <div>
        <h1 class="h3 mb-0">Términos y Condiciones — <strong>DevDemy</strong></h1>
      </div>
      <div class="text-end text-white small">
        Última actualización: 2025-10-10
      </div>
    </div>
  </div>
</header>

<main class="container mb-5">

  <!-- Intro -->
  <div class="row mb-4">
    <div class="col-lg-9">
      <div class="card p-4">
        <h2 class="section-title">Introducción</h2>
        <p class="small-muted">Este documento establece los términos y condiciones relativos al tratamiento y conservación de los datos recolectados en el marco de la simulación académica realizada por <strong>DevDemy</strong>. Especifica qué datos se almacenan, con qué propósito, por cuánto tiempo y qué derechos tienen las personas cuyos datos se registren.</p>

        <hr>

        <h3 class="mb-2">Compromisos clave</h3>
        <ul>
          <li>No se hará uso indebido de los datos suministrados ni se publicarán a ningún tercero que no esté relacionado a la actividad.</li>
          <li>Solo se almacenarán nombres completos, correos electrónicos y dirección IP al momento de aceptar enviar este formulario. Cualquier otro registro es de carácter anónimo y no se guardó ningún dato personal.</li>
          <li>Los datos son almacenados únicamente para fines académicos, para la clase de seminario de investigación del profesor Alejandro Urrea Ospina, en un trabajo de concientización y análisis del phishing. Se notificará por correo que el curso ofertado no es real una vez terminada la actividad.</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Definitions & Scope -->
  <div class="row mb-4">
    <div class="col-lg-9">
      <div class="card p-4">
        <h3 class="section-title">1. Definiciones y alcance</h3>
        <p class="small-muted">Para efectos de este documento:</p>
        <ul>
          <li><strong>Responsable:</strong> La persona o entidad encargada de la actividad académica (DevDemy en la simulación), responsable del tratamiento de datos aquí descrito.</li>
          <li><strong>Participante / Usuario:</strong> Persona que decide aceptar estos términos y enviar el formulario de aceptación al participar en la simulación.</li>
          <li><strong>Datos personales tratados:</strong> nombres completos, correos electrónicos y dirección IP (al aceptar el envío del formulario).</li>
          <li>Actividad: simulación académica realizada en el marco del seminario de investigación del profesor <em>Alejandro Urrea Ospina</em> con propósito de concientización y análisis del phishing.</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Purposes -->
  <div class="row mb-4">
    <div class="col-lg-9">
      <div class="card p-4">
        <h3 class="section-title">2. Finalidad del tratamiento</h3>
        <p>Los datos personales que se recolectan al aceptar y enviar el formulario serán utilizados exclusivamente para:</p>
        <ol>
          <li>Registrar la aceptación informada del participante en la actividad académica.</li>
          <li>Realizar análisis agregados y anónimos sobre la percepción y resultados de la actividad (por ejemplo: tasas de aceptación, métricas de participación) sin vincular análisis a información personal identificable, salvo el registro puntual de nombre, correo e IP cuando exista aceptación expresa.</li>
          <li>Notificar por correo a los participantes, al finalizar la actividad, que el curso ofertado era una simulación y que no corresponde a una oferta formativa comercial real.</li>
          <li>Cumplir con obligaciones académicas y de reporte del seminario de investigación del profesor <em>Alejandro Urrea Ospina</em>.</li>
        </ol>

        <p class="small-muted"><strong>Importante:</strong> En ningún caso los datos se usarán para publicidad, venta de listas de contactos, o fines distintos a los aquí descritos, ni se publicarán a terceros no relacionados con la actividad.</p>
      </div>
    </div>
  </div>

  <!-- Data categories & storage -->
  <div class="row mb-4">
    <div class="col-lg-9">
      <div class="card p-4">
        <h3 class="section-title">3. Datos recolectados y modo de recolección</h3>
        <p>Al aceptar estos términos y enviar el formulario de aceptación, se almacenan únicamente los siguientes datos:</p>
        <ul>
          <li><strong>Nombre completo</strong> (tal como lo ingrese el participante).</li>
          <li><strong>Correo electrónico</strong> (para notificaciones sobre la actividad).</li>
          <li><strong>Dirección IP</strong> del dispositivo desde el cual se realiza el envío, para fines de trazabilidad y seguridad de la simulación.</li>
        </ul>

        <p class="small-muted">Cualquier otra información que el participante comparta de forma voluntaria dentro de la experiencia (por ejemplo notas abiertas o comportamiento de navegación) será registrada de forma <strong>anónima</strong> y no contendrá identificadores personales vinculados a nombres o correos.</p>

        <h5 class="mt-3">Donde se almacenan</h5>
        <p class="small-muted">En esta demostración los datos se almacenan en una base de datos en la cual solo los relacionados a la activididad podrán acceder</p>
      </div>
    </div>
  </div>

  <!-- No third parties -->
  <div class="row mb-4">
    <div class="col-lg-9">
      <div class="card p-4">
        <h3 class="section-title">4. Transferencia a terceros</h3>
        <p><strong>No se compartirán ni venderán los datos a terceros que no tengan relación con la actividad.</strong> Solo pueden compartir datos con terceros cuando sea estrictamente necesario para el cumplimiento de la actividad y con garantías contractuales que limiten su uso al propósito académico (por ejemplo, un equipo de análisis que participe directamente en el seminario).</p>
      </div>
    </div>
  </div>

  <!-- Notice that the course is fake -->
  <div class="row mb-4">
    <div class="col-lg-9">
      <div class="card p-4">
        <h3 class="section-title">5. Notificación sobre la naturaleza de la actividad</h3>
        <p>Tal como se indicó en la comunicación inicial y conforme a los compromisos aquí expresados, al finalizar la actividad se enviará una notificación <em>por correo electrónico</em> a las direcciones registradas informando claramente que la oferta de curso presentada durante la simulación no corresponde a una oferta de formación real, sino a una actividad de concientización y análisis de phishing dentro del seminario de investigación del profesor <em>Alejandro Urrea Ospina</em>.</p>
        <p class="small-muted">Esa notificación tiene por objetivo evitar confusiones y dejar registro de la naturaleza formativa y simulada de la actividad.</p>
      </div>
    </div>
  </div>

  <!-- Liability & disclaimers -->
  <div class="row mb-4">
    <div class="col-lg-9">
      <div class="card p-4">
        <h3 class="section-title">6. Responsabilidad y limitaciones</h3>
        <p class="small-muted">DevDemy, en el marco de esta simulación académica, adoptará las medidas aquí descritas con la diligencia debida. No obstante, dado que se trata de una actividad educativa y demostrativa, las partes aceptan que:</p>
        <ul>
          <li>No se ofrecen garantías distintas a las expresamente descritas en este documento.</li>
          <li>DevDemy no será responsable por daños indirectos o consiguientes derivados del uso de la información en esta simulación.</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Final -->
  <div class="row mb-5">
    <div class="col-lg-9">
      <div class="card p-4">
        <h3 class="section-title">7. Cambios en estos términos</h3>
        <p>Nos reservamos el derecho a actualizar estos términos por razones académicas o de mejora metodológica.</p>

        <p class="small-muted mt-3"><strong>Declaración final:</strong> Al marcar la casilla de aceptación y enviar el formulario, usted declara que ha leído y comprende estas condiciones y autoriza el tratamiento limitado de sus datos tal y como se describe en este documento para los fines académicos especificados.</p>
      </div>
    </div>
  </div>

</main>

<footer class="bg-white">
  <div class="container d-flex justify-content-between align-items-center">
    <div class="small-muted">DevDemy — Simulación académica • Seminario de investigación (profesor Alejandro Urrea Ospina)</div>
    <div class="small-muted">Documento informativo — No constituye acuerdo legal vinculante fuera del marco académico.</div>
  </div>
</footer>
<script src="script.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
  verificarEntradaTerminosCondiciones();
  // Helper: mask email for display
  function maskEmail(email){
    if(!email || typeof email !== 'string') return '';
    const parts = email.split('@');
    if(parts.length!==2) return email;
    const name = parts[0];
    const domain = parts[1];
    const maskedName = name.length <= 2 ? name[0] + '*' : name[0] + '*'.repeat(Math.min(3, name.length-2)) + name.slice(-1);
    const domainParts = domain.split('.');
    const domMain = domainParts[0];
    const maskedDomMain = domMain.length <= 3 ? domMain[0] + '*' : domMain[0] + '*'.repeat( Math.min(3, domMain.length-2) ) + domMain.slice(-1);
    return maskedName + '@' + maskedDomMain + (domainParts.length>1 ? '.' + domainParts.slice(1).join('.') : '');
  }

  // Local-storage key (simulación)
  const STORAGE_KEY = 'devdemy_simulation_registros_v1';

  // Save record (only name, email, ip, timestamp, purpose)
  async function saveRecord(name, email){
    // try to get public IP (may fail if offline)
    let ip = 'no-disponible';
    try{
      const resp = await fetch('https://api.ipify.org?format=json');
      if(resp.ok){
        const data = await resp.json();
        ip = data.ip || ip;
      }
    } catch(e){
      // fallback - we keep ip as 'no-disponible'
    }
    const record = {
      fullName: name,
      email: email,
      ip: ip,
      acceptedAt: new Date().toISOString(),
      purpose: 'Simulación académica - Seminario de investigación del profesor Alejandro Urrea Ospina'
    };
    // store in localStorage
    let arr = [];
    try{
      const raw = localStorage.getItem(STORAGE_KEY);
      if(raw) arr = JSON.parse(raw);
    } catch(e){ arr = []; }
    arr.push(record);
    localStorage.setItem(STORAGE_KEY, JSON.stringify(arr));
    return record;
  }

  // List records (reads localStorage)
  function listRecords(){
    try{
      const raw = localStorage.getItem(STORAGE_KEY);
      return raw ? JSON.parse(raw) : [];
    } catch(e){
      return [];
    }
  }

  // Remove all records (simulated deletion)
  function clearAllRecords(){
    localStorage.removeItem(STORAGE_KEY);
  }

  // Remove record by email (simulated)
  function removeRecordByEmail(email){
    try{
      const raw = localStorage.getItem(STORAGE_KEY);
      if(!raw) return 0;
      const arr = JSON.parse(raw);
      const filtered = arr.filter(r => r.email !== email);
      localStorage.setItem(STORAGE_KEY, JSON.stringify(filtered));
      return arr.length - filtered.length;
    } catch(e){
      return 0;
    }
  }

  // Form handling
  (function(){
    const form = document.getElementById('acceptForm');
    const status = document.getElementById('statusMsg');
    const storedList = document.getElementById('storedList');
    const itemsContainer = document.getElementById('itemsContainer');
    const showBtn = document.getElementById('showStoredBtn');
    const clearBtn = document.getElementById('clearAllBtn');

    // bootstrap validation
    form.addEventListener('submit', async function(e){
      e.preventDefault();
      if(!form.checkValidity()){
        form.classList.add('was-validated');
        return;
      }
      const name = document.getElementById('fullName').value.trim();
      const email = document.getElementById('email').value.trim();
      // Save only name, email, ip
      status.style.display = 'block';
      status.className = 'alert alert-info';
      status.textContent = 'Registrando tu aceptación (simulado)...';
      try{
        const rec = await saveRecord(name, email);
        status.className = 'alert alert-success';
        status.innerHTML = '<strong>Listo.</strong> Tu aceptación fue registrada (simulado). Se notificará por correo al finalizar la actividad que el curso ofertado no es real.';
        // reset form UI (but do NOT autofill)
        form.reset();
        form.classList.remove('was-validated');
        // update view
        renderStored();
      } catch(err){
        status.className = 'alert alert-danger';
        status.textContent = 'Error al registrar (simulado). Intenta nuevamente.';
      }
      // hide after some time
      setTimeout(()=> status.style.display = 'none', 8000);
    });

    // Show stored records
    showBtn.addEventListener('click', function(){
      storedList.style.display = (storedList.style.display === 'none' || storedList.style.display==='') ? 'block' : 'none';
      renderStored();
    });

    // Clear all (simulated deletion)
    clearBtn.addEventListener('click', function(){
      if(!confirm('Eliminar todos los registros almacenados localmente (simulado)? Esta acción no se puede deshacer en esta simulación.')) return;
      clearAllRecords();
      renderStored();
      alert('Registros eliminados (simulado).');
    });

    function renderStored(){
      const arr = listRecords();
      itemsContainer.innerHTML = '';
      if(arr.length === 0){
        itemsContainer.innerHTML = '<div class="text-muted small">No hay registros almacenados (simulado).</div>';
        return;
      }
      arr.slice().reverse().forEach((r, idx) => {
        const item = document.createElement('div');
        item.className = 'list-group-item';
        const masked = maskEmail(r.email);
        item.innerHTML = `
          <div class="d-flex w-100 justify-content-between">
            <h6 class="mb-1 small">${escapeHtml(r.fullName)}</h6>
            <small class="text-muted">${new Date(r.acceptedAt).toLocaleString()}</small>
          </div>
          <p class="mb-1 small-muted">Correo: <span class="masked">${escapeHtml(masked)}</span> — IP: <span class="small">${escapeHtml(r.ip)}</span></p>
          <div class="d-flex gap-2">
            <button class="btn btn-sm btn-outline-danger" data-email="${escapeHtml(r.email)}">Solicitar eliminación (simulado)</button>
          </div>
        `;
        itemsContainer.appendChild(item);

        // attach deletion for this row
        item.querySelector('button')?.addEventListener('click', function(){
          const emailToDelete = this.getAttribute('data-email');
          if(!confirm('Solicitar eliminación del registro con correo: ' + maskEmail(emailToDelete) + ' ? (simulado)')) return;
          const removed = removeRecordByEmail(emailToDelete);
          if(removed > 0){
            alert('Registro(s) eliminados (simulado).');
            renderStored();
          } else {
            alert('No se encontró registro para eliminar (simulado).');
          }
        });
      });
    }

    // escape HTML to avoid injection in display
    function escapeHtml(text){
      if(!text) return '';
      return text.replace(/[&<>"'`=\/]/g, function(s){ return ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;','/':'&#x2F;','`':'&#x60;','=':'&#x3D;'})[s]; });
    }

    // initial render
    renderStored();

  })();
</script>
</body>
</html>
